<% layout('layouts/boilerplate') %>
<div class='row'>
	<h1 class='text-center'>Edit Campground</h1>
	<div class='col-6 offset-3'>
		<form action='/campgrounds/<%= campground._id %>?_method=PUT' method='POST' novalidate class='validated-form' enctype="multipart/form-data">
			<div class='mb-3'>
				<label class='form-label' for='title'>Title</label>
				<input class='form-control' type="text" id='title' name="campground[title]" value='<%= campground.title %>' required>
				<div class='valid-feedback'>Looks good!</div>
			</div>
			<div class='mb-3'>
				<label class='form-label' for='location'>Location</label>
				<input class='form-control' type="text" id='location' name="campground[location]" value='<%= campground.location %>' required>
				<div class='valid-feedback'>Looks good!</div>
			</div>
			<div class="mb-3">
				<label for="image" class="form-label">Upload Additional Images</label>
				<input class="form-control" type="file" id="image" name="image" multiple>
			  </div>
			<div class='mb-3'>
				<label for='price' class='form-label'>Campground Price</label>
				<div class="input-group">
					<span class="input-group-text" id="price-label">$</span>
				    <input type="text" id='price' name='campground[price]' class="form-control" placeholder="0.00" aria-describedby="price-label" value='<%= campground.price %>' required>
				</div>
			</div>
			<div class='mb-3'>
				<label class='form-label' for='description'>Description</label>
				<textarea required class='form-control' type="text" id='description' name="campground[description]"><%= campground.description %></textarea>
				<div class='valid-feedback'>Looks good!</div>
			</div>
			<div class="mb-3">
				<% campground.images.forEach(function(img, i) { %> 
					<img src="<%=img.url%>" class="img-thumbnail">
					<div class="form-check-inline">
						<!--Any checkbox that is clicked will have it's value added to the deleteimages array, and it'll be an array when we parse the body-->
						<input type="checkbox" name="deleteImages[]" value="<%= img.filename %> " id="image-<%=i%>">
						<label for="image-<%=i%>"><i class="fas fa-trash-alt"></i></label>
					</div>
					
				<% }) %> 
			</div>
			<div class='mb-3'>
				<button class='btn btn-success'>Update Campground</button>
			</div>
		</form>
		<a href="/campgrounds/<%= campground._id %>">Cancel</a>
	</div>
</div>